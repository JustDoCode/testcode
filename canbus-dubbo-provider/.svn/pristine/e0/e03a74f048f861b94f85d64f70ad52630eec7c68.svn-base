<?xml version="1.0" encoding="UTF-8"?>
<configuration scan="true" scanPeriod="600 seconds" debug="true">
<!-- 这个日志配置文件，区分了windows和linux机器，windows机器日志输出到控制台，linux机器日志输出文件，这个配置满足大部分项目需求 -->
	<if condition='property("os.name").contains("Windows")'>
		<then>
			<!-- 控制台输出 -->
			<appender name="Console" class="ch.qos.logback.core.ConsoleAppender">
				<encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
					<!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符-->
					<pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread]   %-5level %logger{50} - %msg%n</pattern>
				</encoder>
			</appender>
			<logger name="com.cpgps" level="DEBUG" />
			<logger name="org.apache.activemq" level="INFO" />
			<logger name="org.springframework" level="WARN" />
			<logger name="ch.qos.logback" level="WARN" />
			<root level="INFO">
				<appender-ref ref="Console" /><!-- 输出到控制台-->
			</root>
		</then>
		<else>
			<property name="LOG_HOME" value="${user.dir}/log" />
			<appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
					<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
						<FileNamePattern>
							${LOG_HOME}/%d{yyyy-MM-dd}/log.%d{yyyy-MM-dd}.%i.log
							<timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
								<maxFileSize>100MB</maxFileSize>
							</timeBasedFileNamingAndTriggeringPolicy>
						</FileNamePattern>
					</rollingPolicy>
					<encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
						<pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n</pattern>
					</encoder>
			</appender>
			<logger name="com.cpgps" level="INFO" />
			<logger name="ch.qos.logback" level="INFO" />
			<logger name="org.apache.activemq" level="INFO" />
			<logger name="org.springframework" level="INFO" />
			<root level="INFO">
				<appender-ref ref="FILE" />
			</root>
		</else>
	</if>
	
</configuration>